System.register(["./index-legacy-BnW9yB9Z.js"],function(e,t){"use strict";var n,r,o,l,d,a,i,s,c,f,u,w,m,y;return{setters:[e=>{n=e.j,r=e.B,o=e.e6,l=e.a4,d=e.au,a=e.N,i=e.ax,s=e.bq,c=e.aZ,f=e.D,u=e.ac,w=e.S,m=e.aa,y=e.o}],execute:function(){var t=i("<div id=swf-container style=justify-content:center;align-items:center>");e("default",()=>{const e=y(),{replace:i}=n(),[h,g]=r(!0),[v,p]=r(!1),{ruffleJSPath:E}=o();let L=l.objs.filter(e=>e.name.toLowerCase().endsWith(".swf"));0===L.length&&(L=[l.obj]);const j=e=>{const t=L.findIndex(e=>e.name===l.obj.name);"ArrowLeft"===e.key&&t>0?i(L[t-1].name):"ArrowRight"===e.key&&t<L.length-1&&i(L[t+1].name)};d(()=>{window.addEventListener("keydown",j),x()}),a(()=>{window.removeEventListener("keydown",j);const e=document.getElementById("ruffle-player");e?.remove();const t=document.getElementById("ruffle-script");t?.remove()});const x=()=>{g(!0),p(!1);const e=document.getElementById("ruffle-player");if(e?.remove(),window.RufflePlayer)return void B();const t=document.createElement("script");t.src=E(),t.async=!0,t.id="ruffle-script",t.onload=()=>{B()},t.onerror=()=>{p(!0),g(!1),console.error("无法加载Ruffle播放器")},document.head.appendChild(t)},B=()=>{try{const e=window.RufflePlayer.newest().createPlayer();e.id="ruffle-player",e.style.width="100%",e.style.height="100%";const t=document.getElementById("swf-container");t&&(t.innerHTML="",t.appendChild(e),e.addEventListener("loaded",()=>{g(!1)}),e.addEventListener("error",()=>{p(!0),g(!1)}),e.load(l.raw_url))}catch(e){console.error("Ruffle初始化失败:",e),p(!0),g(!1)}};return I=t(),s(I,"position","relative"),s(I,"width","100%"),s(I,"height","75vh"),s(I,"display","flex"),c(I,f(w,{get when(){return h()},get children(){return f(u,{})}}),null),c(I,f(w,{get when(){return v()},get children(){return f(m,{get msg(){return e("preview.failed_load_swf")},h:"75vh"})}}),null),I;var I})}}});
