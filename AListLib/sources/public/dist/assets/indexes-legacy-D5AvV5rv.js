System.register(["./index-legacy-BnW9yB9Z.js","./index-legacy-CYPFt7al.js","./Common-legacy-CWb8wL9W.js","./useTitle-legacy-Dz_oGTmz.js","./index-legacy-CKgx1aTJ.js","./index-legacy-WntVcU0W.js","./SettingItem-legacy-B-daHqNK.js","./item_type-legacy-BFH7Oxl9.js","./ResponsiveGrid-legacy-C98rjzv4.js"],function(e,t){"use strict";var r,n,a,i,l,s,o,d,u,c,g,h,f,m,p,k,v,x,y,b,C,w,$,_,j,S,I,N,z,M,B,D,E,G,L;return{setters:[e=>{r=e.ax,n=e.dC,a=e.B,i=e.b9,l=e.br,s=e.N,o=e.dD,d=e.dE,u=e.aY,c=e.D,g=e.c1,h=e.o,f=e.S,m=e.aw,p=e.aM,k=e.ah,v=e.ag,x=e.ab,y=e.cC,b=e.cP,C=e.a2,w=e.K,$=e.L,_=e.M,j=e.E,S=e.bv,I=e.F,N=e.G,z=e.T,M=e.I,B=e.J,D=e.bu,E=e.bb},e=>{G=e.G},e=>{L=e.default},null,null,null,null,null,null],execute:function(){var t=r('<svg width=1em height=1em viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-width=2><path stroke-dasharray=60 stroke-dashoffset=60 stroke-opacity=.3 d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill=freeze attributeName=stroke-dashoffset dur=1.3s values=60;0></animate></path><path stroke-dasharray=15 stroke-dashoffset=15 d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill=freeze attributeName=stroke-dashoffset dur=0.3s values=15;0></animate><animateTransform attributeName=transform dur=1.5s repeatCount=indefinite type=rotate values="0 12 12;360 12 12">'),T=r('<svg width=1em height=1em viewBox="0 0 24 24"><g stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path fill=currentColor fill-opacity=0 stroke-dasharray=60 stroke-dashoffset=60 d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"><animate fill=freeze attributeName=stroke-dashoffset dur=0.5s values=60;0></animate><animate fill=freeze attributeName=fill-opacity begin=0.8s dur=0.15s values=0;0.3></animate></path><path fill=none stroke-dasharray=14 stroke-dashoffset=14 d="M8 12L11 15L16 10"><animate fill=freeze attributeName=stroke-dashoffset begin=0.6s dur=0.2s values=14;0>');function O(e){return r=t(),n(r,e,!0,!0),r;var r}function Z(e){return t=T(),n(t,e,!0,!0),t;var t}e("default",()=>{const e=h(),[t,r]=a(),[n,T]=i(()=>l.get("/admin/index/progress")),F=async()=>{const e=await T();D(e,e=>{r(e)})},H=setInterval(F,5e3);s(()=>clearInterval(H)),F();const[J,K]=i(o),P=async()=>{const e=await K();E(e),F()},[R,X]=i(()=>l.post("/admin/index/clear")),Y=async()=>{const e=await X();E(e),F()},[q,A]=i(()=>l.post("/admin/index/stop")),Q=async()=>{const e=await A();E(e),F()};let U,V;const[W,ee]=i(d),te=async()=>{let e=[];U.value&&(e=U.value.split("\n"));let t=20;V.value&&(t=parseInt(V.value));const r=await ee(e,t);E(r),F()},{isOpen:re,onOpen:ne,onClose:ae}=u();return c(k,{spacing:"$2",w:"$full",alignItems:"start",get children(){return[c(g,{get children(){return e("manage.sidemenu.settings")}}),c(L,{get group(){return G.INDEX}}),c(g,{get children(){return e("indexes.current")}}),c(f,{get when(){return t()},get children(){return c(m,{spacing:"$2",w:"fit-content",shadow:"$md",rounded:"$lg",get bg(){return C("","$neutral3")()},get children(){return[c(p,{boxSize:"$28",color:"$accent9",p:"$2",get as(){return t()?.is_done?Z:O}}),c(k,{spacing:"$2",flex:"1",alignItems:"start",mr:"$2",get children(){return[c(v,{get children(){return[x(()=>e("indexes.obj_count")),":",c(y,{colorScheme:"info",ml:"$2",get children(){return t()?.obj_count}})]}}),c(v,{get children(){return[x(()=>e("indexes.last_done_time")),":",c(y,{colorScheme:"accent",ml:"$2",get children(){return x(()=>!!t().last_done_time)()?b(t().last_done_time):e("indexes.unknown")}})]}}),c(f,{get when(){return t()?.error},get children(){return c(v,{css:{wordBreak:"break-all"},get children(){return[x(()=>e("indexes.error")),":",c(y,{colorScheme:"danger",ml:"$2",get children(){return t().error}})]}})}})]}})]}})}}),c(m,{spacing:"$2",get children(){return[c(w,{colorScheme:"accent",onClick:[F,void 0],get loading(){return n()},get children(){return e("global.refresh")}}),c(w,{colorScheme:"danger",onClick:[Y,void 0],get loading(){return R()},get children(){return e("indexes.clear")}}),c(w,{colorScheme:"warning",onClick:[Q,void 0],get loading(){return q()},get children(){return e("indexes.stop")}}),c(w,{onClick:[P,void 0],get loading(){return J()},get children(){return e("indexes."+(t()?.is_done?"rebuild":"build"))}})]}}),c(w,{onClick:ne,get children(){return e("indexes.update")}}),c($,{get opened(){return re()},onClose:ae,get children(){return[c(_,{}),c(j,{get children(){return[c(S,{}),c(I,{get children(){return e("indexes.update")}}),c(N,{get children(){return[c(g,{get children(){return e("indexes.paths_to_update")}}),c(z,{ref(e){"function"==typeof U?U(e):U=e}}),c(g,{get children(){return e("indexes.max_depth")}}),c(M,{value:20,type:"number",ref(e){"function"==typeof V?V(e):V=e}})]}}),c(B,{get children(){return c(w,{onClick:[te,void 0],get loading(){return W()},get children(){return e("indexes.update")}})}})]}})]}})]}})})}}});
